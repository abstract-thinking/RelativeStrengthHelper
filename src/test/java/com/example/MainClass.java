package com.example;

import com.fasterxml.jackson.databind.JsonNode;
import com.fasterxml.jackson.databind.ObjectMapper;
import org.apache.http.HttpResponse;
import org.apache.http.client.methods.HttpUriRequest;
import org.apache.http.client.methods.RequestBuilder;
import org.apache.http.impl.client.HttpClientBuilder;
import org.apache.http.util.EntityUtils;

import java.io.IOException;

public class MainClass {

//    1U1	1+1 AG  INH O.N.	DE0005545503
//    ADS	ADIDAS AG NA O.N.	DE000A1EWWW0
//    AIR	AIRBUS SE	NL0000235190
//    AIXA	AIXTRON SE NA O.N.	DE000A0WMPJ6
//    ALV	ALLIANZ SE NA O.N.	DE0008404005
//    AOX	ALSTRIA OFFICE REIT-AG	DE000A0LD2U1
//    AT1	AROUNDTOWN EO-,01	LU1673108939
//    NDA	AURUBIS AG	DE0006766504
//    AG1	AUTO1 GROUP SE  INH O.N.	DE000A2LQ884
//    BAS	BASF SE NA O.N.	DE000BASF111
//    BMW	BAY.MOTOREN WERKE AG ST	DE0005190003
//    BAYN	BAYER AG NA O.N.	DE000BAY0017
//    BC8	BECHTLE AG O.N.	DE0005158703
//    BFSA	BEFESA S.A. ORD. O.N.	LU1704650164
//    BEI	BEIERSDORF AG O.N.	DE0005200000
//    BNR	BRENNTAG SE NA O.N.	DE000A1DAHH0
//    COK	CANCOM SE O.N.	DE0005419105
//    AFX	CARL ZEISS MEDITEC AG	DE0005313704
//    CBK	COMMERZBANK AG	DE000CBK1001
//    COP	COMPUGROUP MED. NA O.N.	DE000A288904
//    CON	CONTINENTAL AG O.N.	DE0005439004
//1COV	COVESTRO AG  O.N.	DE0006062144
//    EVD	CTS EVENTIM KGAA	DE0005470306
//    DAI	DAIMLER AG NA O.N.	DE0007100000
//    DHER	DELIVERY HERO SE NA O.N.	DE000A2E4K43
//    DBK	DEUTSCHE BANK AG NA O.N.	DE0005140008
//    DB1	DEUTSCHE BOERSE NA O.N.	DE0005810055
//    DPW	DEUTSCHE POST AG NA O.N.	DE0005552004
//    DTE	DT.TELEKOM AG NA	DE0005557508
//    DUE	DUERR AG O.N.	DE0005565204
//    EOAN	E.ON SE NA O.N.	DE000ENAG999
//    EUZ	ECKERT+ZIEGLER AG O.N.	DE0005659700
//    EVK	EVONIK INDUSTRIES NA O.N.	DE000EVNK013
//    EVT	EVOTEC SE  INH O.N.	DE0005664809
//    FRA	FRAPORT AG FFM.AIRPORT	DE0005773303
//    FNTN	FREENET AG NA O.N.	DE000A0Z2ZZ5
//    FME	FRESEN.MED.CARE KGAA O.N.	DE0005785802
//    FRE	FRESENIUS SE+CO.KGAA O.N.	DE0005785604
//    FPE3	FUCHS PETROLUB VZO NA ON	DE000A3E5D64
//    G1A	GEA GROUP AG	DE0006602006
//    GXI	GERRESHEIMER AG	DE000A0LD6E6
//    GYC	GRAND CITY PROPERT.EO-,10	LU0775917882
//    HNR1	HANNOVER RUECK SE NA O.N.	DE0008402215
//    HEI	HEIDELBERGCEMENT AG O.N.	DE0006047004
//    HLE	HELLA GMBH+CO. KGAA O.N.	DE000A13SX22
//    HFG	HELLOFRESH SE  INH O.N.	DE000A161408
//    HEN3	HENKEL AG+CO.KGAA VZO	DE0006048432
//    BOSS	HUGO BOSS AG NA O.N.	DE000A1PHFF7
//    HYQ	HYPOPORT SE  NA O.N.	DE0005493365
//    IFX	INFINEON TECH.AG NA O.N.	DE0006231004
//    JEN	JENOPTIK AG  NA O.N.	DE000A2NB601
//    JUN3	JUNGHEINRICH AG O.N.VZO	DE0006219934
//    SDF	K+S AG NA O.N.	DE000KSAG888
//    KGX	KION GROUP AG	DE000KGX8881
//    KBX	KNORR-BREMSE AG  INH O.N.	DE000KBX1006
//    LXS	LANXESS AG	DE0005470405
//    LEG	LEG IMMOBILIEN SE NA O.N.	DE000LEG1110
//    LIN	LINDE PLC        EO 0,001	IE00BZ12WP82
//    LHA	LUFTHANSA AG VNA O.N.	DE0008232125
//    MRK	MERCK KGAA O.N.	DE0006599905
//    MOR	MORPHOSYS AG O.N.	DE0006632003
//    MTX	MTU AERO ENGINES NA O.N.	DE000A0D9PT0
//    MUV2	MUENCH.RUECKVERS.VNA O.N.	DE0008430026
//    NEM	NEMETSCHEK SE O.N.	DE0006452907
//    NDX1	NORDEX SE O.N.	DE000A0D6554
//    PFV	PFEIFFER VACUUM TECH.O.N.	DE0006916604
//    PAH3	PORSCHE AUTOM.HLDG VZO	DE000PAH0038
//    PSM	PROSIEBENSAT.1  NA O.N.	DE000PSM7770
//    PUM	PUMA SE	DE0006969603
//    QIA	QIAGEN NV         EO -,01	NL0012169213
//    RAA	RATIONAL AG	DE0007010803
//    RHM	RHEINMETALL AG	DE0007030009
//    RWE	RWE AG   INH O.N.	DE0007037129
//    SANT	S+T AG O.N.	AT0000A0E9W5
//    SAP	SAP SE O.N.	DE0007164600
//    SRT3	SARTORIUS AG VZO O.N.	DE0007165631
//    G24	SCOUT24 SE NA O.N.	DE000A12DM80
//    SIE	SIEMENS AG  NA O.N.	DE0007236101
//    ENR	SIEMENS ENERGY AG NA O.N.	DE000ENER6Y0
//    SHL	SIEMENS HEALTH.AG NA O.N.	DE000SHL1006
//    WAF	SILTRONIC AG NA O.N.	DE000WAF3001
//    S92	SMA SOLAR TECHNOL.AG	DE000A0DJ6J9
//    SOW	SOFTWARE AG  NA O.N.	DE000A2GS401
//    SAX	STROEER SE + CO. KGAA	DE0007493991
//    SUSE	SUSE S.A.            DL 1	LU2333210958
//    SY1	SYMRISE AG INH. O.N.	DE000SYM9999
//    TEG	TAG IMMOBILIEN AG	DE0008303504
//    TLX	TALANX AG NA O.N.	DE000TLX1005
//    TMV	TEAMVIEWER AG  INH O.N.	DE000A2YN900
//    O2D	TELEFONICA DTLD HLDG NA	DE000A1J5RX9
//    TKA	THYSSENKRUPP AG O.N.	DE0007500001
//    UN01	UNIPER SE  NA O.N.	DE000UNSE018
//    UTDI	UTD.INTERNET AG NA	DE0005089031
//    VTWR	VANTAGE TOWERS AG NA O.N.	DE000A3H3LL2
//    VAR1	VARTA AG O.N.	DE000A0TGJ55
//    VOW3	VOLKSWAGEN AG VZO O.N.	DE0007664039
//    VNA	VONOVIA SE NA O.N.	DE000A1ML7J1
//    WCH	WACKER CHEMIE        O.N.	DE000WCH8881
//    ZAL	ZALANDO SE	DE000ZAL1111
//    ZO1	ZOOPLUS AG	DE0005111702

    // https://data.nasdaq.com/tools/api

    public static void main(String[] args) throws IOException {
        final HttpUriRequest request = RequestBuilder
                .get("http://api.marketstack.com/v1/eod" +
                        "?access_key=b245c116bdc6f51e4b694cd200713235" +
                        "&symbols=AAPL" +
                        "&limit=135" +
                        "&date_from=2021-03-28" +
                        "&date_to=2021-11-07")
                .addHeader("Accept", "application/json")
                .build();

        final HttpResponse response = HttpClientBuilder.create().build().execute(request);
        final String jsonString = EntityUtils.toString(response.getEntity());
        final JsonNode json = new ObjectMapper().readTree(jsonString);

        System.out.println(response.getStatusLine().getStatusCode());
        System.out.println(json);
    }
}
